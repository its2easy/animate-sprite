{"version":3,"sources":["webpack://animateSprite/webpack/universalModuleDefinition","webpack://animateSprite/webpack/bootstrap","webpack://animateSprite/./src/merge-objects.js","webpack://animateSprite/./src/animate-sprite.js"],"names":["target","firstSource","undefined","TypeError","to","Object","i","arguments","length","nextSource","keysArray","keys","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","enumerable","init","node","options","HTMLElement","Element","HTMLDocument","inlineSettings","fillInlineSettings","defaultSettings","width","height","frames","cols","loop","frameTime","duration","fps","reverse","autoplay","draggable","settings","mergeObjects","currentFrame","isAnimating","lastUpdate","isSwiping","swipeObject","swipeThreshold","swipePixelsCorrection","nodeWidth","nodeHeight","widthHeightRatio","bgWidth","bgHeight","plugin","swipeEvents","animateSprite","frame","style","backgroundPosition","calculatePosition","changeFrame","isOutOfRange","Math","abs","stop","getNextFrame","deltaFrames","xPadding","yPadding","floor","calculateDuration","animate","time","progress","performance","now","requestAnimationFrame","calculateSizes","offsetWidth","ceil","backgroundSize","initPlugin","addResizeHandler","play","setupSwipeEvents","swipeHandler","cursor","event","touches","curX","pageX","clientX","curY","pageY","clientY","type","preventDefault","document","addEventListener","swipeStart","swipeMove","removeEventListener","swipeEnd","body","prevX","prevY","direction","swipeDirection","swipeLength","round","xDist","yDist","r","swipeAngle","atan2","PI","next","prev","reset","setFrame","setReverse","getCurrentFrame","setOption","option","value","destroy","removeSwipeEvents","removeResizeHandler","list","result","forEach","dataset","toLowerCase","inlineValue","cb","window"],"mappings":"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","file":"animate-sprite.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"animateSprite\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"animateSprite\"] = factory();\n\telse\n\t\troot[\"animateSprite\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\r\n * Object.assign polyfill\r\n *\r\n * @param {Object} target\r\n * @param {Object} firstSource\r\n * @returns {Object}\r\n */\r\nexport default function(target, firstSource) {\r\n    if (target === undefined || target === null) {\r\n        throw new TypeError('Cannot convert first argument to object');\r\n    }\r\n\r\n    var to = Object(target);\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var nextSource = arguments[i];\r\n        if (nextSource === undefined || nextSource === null) {\r\n            continue;\r\n        }\r\n\r\n        var keysArray = Object.keys(Object(nextSource));\r\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n            var nextKey = keysArray[nextIndex];\r\n            var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n            if (desc !== undefined && desc.enumerable) {\r\n                to[nextKey] = nextSource[nextKey];\r\n            }\r\n        }\r\n    }\r\n    return to;\r\n}","import mergeObjects from './merge-objects'\r\n/**\r\n *\r\n * @param {HTMLElement} node - DOM Node\r\n * @param {Object} options - Options\r\n * @param {Number} options.width - Width of one frame\r\n * @param {Number} options.height - Height of one frame\r\n * @param {Number} options.frames - Number of frames\r\n * @param {Number|Boolean} [options.cols=false] - Number of cols if more than 1 row\r\n * @param {Boolean} [options.loop=false] - Whether to start a new cycle at the end\r\n * @param {Boolean} [options.reverse=false] - Reverse direction\r\n * @param {Boolean} [options.autoplay=false] - Autoplay\r\n * @param {Number|Boolean} [options.frameTime] - ms, time between frames\r\n * @param {Number|Boolean} [options.duration] - ms, total time, alternative to frameTime\r\n * @param {Number|Boolean} [options.fps = 24] - fps, alternative to frameTime\r\n * @param {Number|Boolean} [options.draggable = false] - Draggable by mouse or touch\r\n * @returns {Object}\r\n * @example\r\n *\r\n * var sprite = animateSprite.init( document.getElementById('sprite'),\r\n *             {\r\n *                 width: 720,\r\n *                 height: 405,\r\n *                 cols: 5,\r\n *                 frames: 20,\r\n *                 frameTime: 45,\r\n *                 loop: true\r\n *              }readme.md\r\n */\r\nexport function init(node, options = {}) {\r\n    if ( !(node instanceof HTMLElement || node instanceof Element || node instanceof HTMLDocument)) {\r\n        throw new TypeError('Node is required');\r\n    }\r\n\r\n    // Setup settings\r\n    let inlineSettings = fillInlineSettings( node,\r\n        ['width', 'height', 'frames', 'cols', 'loop', 'frameTime', 'duration', 'fps', 'reverse', 'autoplay', 'draggable']\r\n    );\r\n\r\n    let defaultSettings = {\r\n        width: 100,\r\n        height: 100,\r\n        frames: 24,\r\n        cols: false,\r\n        loop: false,\r\n        frameTime: false,\r\n        duration: false,\r\n        fps: 24,\r\n        reverse: false,\r\n        autoplay: false,\r\n        draggable: false\r\n    }\r\n    //let settings = Object.assign(defaultSettings, options, inlineSettings);\r\n    let settings = mergeObjects(defaultSettings, options, inlineSettings);\r\n\r\n    let currentFrame = 1,\r\n        isAnimating = false,\r\n        duration, // One animation cycle duration\r\n        lastUpdate,\r\n        isSwiping = false,\r\n        swipeObject = {},\r\n        swipeThreshold,\r\n        swipePixelsCorrection = 0,\r\n        nodeWidth,\r\n        nodeHeight,\r\n        widthHeightRatio,\r\n        bgWidth,\r\n        bgHeight,\r\n        plugin = {}; // Public object\r\n\r\n    const swipeEvents = ['mousedown', 'mousemove', 'mouseup', 'touchstart', 'touchmove', 'touchend', 'touchcancel'];\r\n\r\n    // Private functions\r\n    function animateSprite(frame) {\r\n        node.style.backgroundPosition = calculatePosition(frame);\r\n    }\r\n    function changeFrame(frame){\r\n        if ( frame === currentFrame ) return;\r\n        if ( !isOutOfRange(frame) ){ // Valid frame\r\n            currentFrame = frame;\r\n            animateSprite(currentFrame);\r\n        } else { // Out of range\r\n            if (settings.loop) { // Loop, change frame and continue\r\n                changeFrame( Math.abs(Math.abs(frame) - settings.frames) ); // Correct frame\r\n            } else { // No loop, stop playing\r\n                plugin.stop();\r\n                if (frame < 1) changeFrame(1);\r\n                else changeFrame(settings.frames);\r\n            }\r\n        }\r\n    }\r\n    function getNextFrame(deltaFrames, reverse){\r\n        if ( reverse === undefined ) reverse = settings.reverse;\r\n        return  (reverse) ? currentFrame - deltaFrames : currentFrame + deltaFrames;\r\n    }\r\n    function isOutOfRange(frame){\r\n        return ( frame <= 0 || frame > settings.frames );\r\n    }\r\n    function calculatePosition(frame){\r\n        let xPadding,\r\n            yPadding = 0;\r\n        if ( !settings.cols ){ // Single row sprite\r\n            xPadding = (frame - 1) * nodeWidth;\r\n        } else { // Multiline sprite\r\n            xPadding = ( ( (frame - 1) % settings.cols)  ) * nodeWidth;\r\n            yPadding = Math.floor( (frame - 1) / settings.cols ) * nodeHeight;\r\n        }\r\n        return `-${xPadding}px -${yPadding}px`;\r\n    }\r\n    function calculateDuration(frameTime, duration, fps){\r\n        if (frameTime) return frameTime * settings.frames;\r\n        else if (duration) return duration;\r\n        else return  ( settings.frames / fps ) * 1000;\r\n    }\r\n    function animate(time){\r\n        const progress = ( time - lastUpdate ) / duration;\r\n        //console.log(time - lastUpdate);\r\n        const deltaFrames = progress * settings.frames; // Ex. 0.45 or 1.25\r\n        // Place for timing function\r\n\r\n        if ( deltaFrames >= 1) { // Animate only if we need to update 1 frame or more\r\n            changeFrame(getNextFrame( Math.floor(deltaFrames) ));\r\n            lastUpdate = performance.now();\r\n        }\r\n        if ( isAnimating ) requestAnimationFrame(animate);\r\n    }\r\n\r\n    function calculateSizes(){\r\n        plugin.stop();\r\n        widthHeightRatio = settings.width / settings.height;\r\n        nodeWidth = node.offsetWidth;\r\n        nodeHeight = nodeWidth / widthHeightRatio;\r\n        node.style.height = nodeHeight + \"px\";\r\n        swipeThreshold = nodeWidth / settings.frames;\r\n        bgWidth =  ( !settings.cols )\r\n            ? settings.frames * nodeWidth\r\n            : settings.cols * nodeWidth;\r\n        bgHeight = ( !settings.cols )\r\n            ? nodeHeight\r\n            : Math.ceil( settings.frames / settings.cols ) * nodeHeight;\r\n        node.style.backgroundSize = `${bgWidth}px ${bgHeight}px`;\r\n        changeFrame(1);\r\n    }\r\n    function initPlugin(){\r\n        duration = calculateDuration(settings.frameTime, settings.duration, settings.fps);\r\n        lastUpdate = performance.now();\r\n\r\n        calculateSizes();\r\n        addResizeHandler(calculateSizes);\r\n\r\n        if ( settings.autoplay ) plugin.play();\r\n        if ( settings.draggable ) {\r\n            setupSwipeEvents(node, swipeHandler, swipeEvents);\r\n            node.style.cursor = 'grab';\r\n        }\r\n    }\r\n\r\n    //===================== SWIPE ROTATION ====================//\r\n    function swipeHandler(event){\r\n        let touches;\r\n        if ( event.touches !== undefined && event.touches.length ) touches = event.touches;\r\n        swipeObject.curX = (touches) ? touches[0].pageX : event.clientX;\r\n        swipeObject.curY = (touches) ? touches[0].pageY : event.clientY;\r\n\r\n        switch (event.type){\r\n            case 'mousedown':\r\n            case 'touchstart':\r\n                if ( event.type === 'touchstart') event.preventDefault();\r\n                document.addEventListener('mouseup', swipeHandler);\r\n                document.addEventListener('mousemove', swipeHandler);\r\n                swipeStart();\r\n                break;\r\n            case 'mousemove':\r\n            case 'touchmove':\r\n                if ( event.type === 'touchmove') event.preventDefault();\r\n                if ( isSwiping ) swipeMove();\r\n                break;\r\n            case 'mouseup':\r\n            case 'touchend':\r\n            case 'touchcancel':\r\n                if ( event.type === 'touchend' || event.type === 'touchcancel') event.preventDefault();\r\n                document.removeEventListener('mouseup', swipeHandler);\r\n                document.removeEventListener('mousemove', swipeHandler);\r\n                swipeEnd();\r\n                break;\r\n        }\r\n    }\r\n    function swipeStart(){\r\n        isAnimating = false;\r\n        isSwiping = true;\r\n        node.style.cursor = 'grabbing';\r\n        document.body.style.cursor = 'grabbing';\r\n        swipeObject.prevX = swipeObject.curX;\r\n        swipeObject.prevY = swipeObject.curY;\r\n    }\r\n    function swipeMove(){\r\n        const direction = swipeDirection();\r\n        swipeObject.prevY = swipeObject.curY; // Update Y to get right angle\r\n\r\n        const swipeLength = Math.round( Math.abs(swipeObject.curX - swipeObject.prevX) ) + swipePixelsCorrection;\r\n        if ( swipeLength <= swipeThreshold) return; // Ignore if less than 1 frame\r\n        if ( direction !== 'left' && direction !== 'right') return; // Ignore vertical directions\r\n        swipeObject.prevX = swipeObject.curX;\r\n\r\n        const progress = swipeLength / nodeWidth;\r\n        const deltaFrames = Math.floor(progress * settings.frames);\r\n        // Add pixels to the next swipeMove if frames equivalent of swipe is not an integer number,\r\n        // e.g one frame is 10px, swipeLength is 13px, we change 1 frame and add 3px to the next swipe,\r\n        // so fullwidth swipe is always rotate sprite for 1 turn\r\n        swipePixelsCorrection = swipeLength - (swipeThreshold * deltaFrames);\r\n        changeFrame(getNextFrame( deltaFrames, (direction !== 'left') ));\r\n    }\r\n    function swipeEnd(){\r\n        //if ( swipeObject.curX === undefined ) return; // there is no x coord on touch end\r\n        swipeObject = {};\r\n        isSwiping = false;\r\n        node.style.cursor = 'grab';\r\n        document.body.style.cursor = 'default';\r\n    }\r\n    function swipeDirection(){\r\n        let xDist, yDist, r, swipeAngle;\r\n        xDist = swipeObject.prevX - swipeObject.curX;\r\n        yDist = swipeObject.prevY - swipeObject.curY;\r\n        r = Math.atan2(yDist, xDist);\r\n        swipeAngle = Math.round(r * 180 / Math.PI);\r\n        if (swipeAngle < 0) swipeAngle = 360 - Math.abs(swipeAngle);\r\n        if ( (swipeAngle >= 0 && swipeAngle <= 60) || (swipeAngle <= 360 && swipeAngle >= 300 )) return 'left';\r\n        else if ( swipeAngle >= 120 && swipeAngle <= 240 ) return 'right';\r\n        else if ( swipeAngle >= 241 && swipeAngle <= 299 ) return 'bottom';\r\n        else return 'up';\r\n    }\r\n    //===================== END SWIPE ====================//\r\n\r\n    // Public API\r\n    plugin.play = function(){\r\n        if ( isAnimating ) return;\r\n        isAnimating = true;\r\n        lastUpdate = performance.now();\r\n        requestAnimationFrame(animate);\r\n    }\r\n    plugin.stop = function(){\r\n        isAnimating = false;\r\n    }\r\n    plugin.next = function(){\r\n        plugin.stop();\r\n        changeFrame( currentFrame + 1 );\r\n    }\r\n    plugin.prev = function(){\r\n        plugin.stop();\r\n        changeFrame( currentFrame - 1 );\r\n    }\r\n    plugin.reset = function(){\r\n        plugin.stop();\r\n        changeFrame(1);\r\n    }\r\n    plugin.setFrame = function(frame){\r\n        plugin.stop();\r\n        changeFrame(frame);\r\n    }\r\n    plugin.setReverse = function(reverse = true){\r\n        settings.reverse = !!reverse;\r\n    }\r\n    plugin.getCurrentFrame = () => currentFrame;\r\n    plugin.isAnimating = () => isAnimating;\r\n    plugin.setOption = function (option, value) {\r\n        if ( option === \"frameTime\" || option === \"duration\" || option === \"fps\" ) {\r\n            settings.frameTime = settings.duration = settings.fps = false; // Reset\r\n            settings[option] = +value;\r\n            duration = calculateDuration(settings.frameTime, settings.duration, settings.fps); // Recalculate\r\n            if ( isAnimating ) {\r\n                plugin.stop();\r\n                plugin.play();\r\n            }\r\n        }\r\n    };\r\n    plugin.destroy = function () {\r\n        removeSwipeEvents( node, swipeHandler, swipeEvents );\r\n        removeResizeHandler( calculateSizes );\r\n    }\r\n\r\n    initPlugin();\r\n    return plugin;\r\n}\r\n\r\n/**\r\n * Returns object with data-* settings\r\n *\r\n * @param {HTMLElement} node\r\n * @param {Array<string>} list\r\n * @returns {Object}\r\n */\r\nfunction fillInlineSettings(node, list) {\r\n    let result = {};\r\n    list.forEach( (value) => {\r\n        if (typeof node.dataset[value.toLowerCase()] !== 'undefined') {\r\n            let inlineValue = node.dataset[value.toLowerCase()];\r\n            if ( inlineValue === \"true\" || inlineValue === '') inlineValue = true;\r\n            else if ( inlineValue === \"false\") inlineValue = false;\r\n            result[value] = inlineValue;\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\nfunction addResizeHandler(cb) {\r\n    window.addEventListener(\"resize\", cb); // todo add debouncing\r\n}\r\nfunction removeResizeHandler(cb) {\r\n    window.removeEventListener(\"resize\", cb);\r\n}\r\n\r\nfunction setupSwipeEvents(node, swipeHandler, swipeEvents) {\r\n    swipeEvents.forEach( (value) => {\r\n        node.addEventListener(value, swipeHandler);\r\n    })\r\n}\r\nfunction removeSwipeEvents(node, swipeHandler, swipeEvents) {\r\n    swipeEvents.forEach( (value) => {\r\n        node.removeEventListener(value, swipeHandler);\r\n    })\r\n}\r\n\r\n\r\n"],"sourceRoot":""}