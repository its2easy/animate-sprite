/*!
 *  @its2easy/animate-sprite 1.0.1
 *  https://github.com/its2easy/animate-sprite
 *          
 *  Copyright (c) 2020 Dmitry Kovalev,
 *  Released under the MIT license
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("animateSprite",[],t):"object"==typeof exports?exports.animateSprite=t():e.animateSprite=t()}(this,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),r.d(t,"init",(function(){return o}));function o(e,t={}){if(!(e instanceof HTMLElement||e instanceof Element||e instanceof HTMLDocument))throw new TypeError("Node is required");let r,o,n,u,a,c,i,s,f=function(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var u=Object.keys(Object(n)),a=0,c=u.length;a<c;a++){var i=u[a],s=Object.getOwnPropertyDescriptor(n,i);void 0!==s&&s.enumerable&&(r[i]=n[i])}}return r}({width:100,height:100,frames:24,cols:!1,loop:!1,frameTime:!1,duration:!1,fps:24,reverse:!1,autoplay:!1,draggable:!1},t,function(e,t){let r={};return t.forEach(t=>{if(void 0!==e.dataset[t.toLowerCase()]){let o=e.dataset[t.toLowerCase()];"true"===o||""===o?o=!0:"false"===o&&(o=!1),r[t]=o}}),r}(e,["width","height","frames","cols","loop","frameTime","duration","fps","reverse","autoplay","draggable"])),l=1,p=!1,m=!1,d={},v=0,h={};const b=["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","touchcancel"];function y(t){e.style.backgroundPosition=function(e){let t,r=0;f.cols?(t=(e-1)%f.cols*u,r=Math.floor((e-1)/f.cols)*a):t=(e-1)*u;return"-".concat(t,"px -").concat(r,"px")}(t)}function g(e){e!==l&&(!function(e){return e<=0||e>f.frames}(e)?(l=e,y(l)):f.loop?g(Math.abs(Math.abs(e)-f.frames)):(h.stop(),g(e<1?1:f.frames)))}function w(e,t){return void 0===t&&(t=f.reverse),t?l-e:l+e}function M(e,t,r){return e?e*f.frames:t||f.frames/r*1e3}function j(e){const t=(e-o)/r*f.frames;t>=1&&(g(w(Math.floor(t))),o=performance.now()),p&&requestAnimationFrame(j)}function x(){h.stop(),c=f.width/f.height,u=e.offsetWidth,a=u/c,e.style.height=a+"px",n=u/f.frames,i=f.cols?f.cols*u:f.frames*u,s=f.cols?Math.ceil(f.frames/f.cols)*a:a,e.style.backgroundSize="".concat(i,"px ").concat(s,"px"),g(1)}function E(t){let r;switch(void 0!==t.touches&&t.touches.length&&(r=t.touches),d.curX=r?r[0].pageX:t.clientX,d.curY=r?r[0].pageY:t.clientY,t.type){case"mousedown":case"touchstart":"touchstart"===t.type&&t.preventDefault(),document.addEventListener("mouseup",E),document.addEventListener("mousemove",E),p=!1,m=!0,e.style.cursor="grabbing",document.body.style.cursor="grabbing",d.prevX=d.curX,d.prevY=d.curY;break;case"mousemove":case"touchmove":"touchmove"===t.type&&t.preventDefault(),m&&function(){const e=function(){let e,t,r,o;e=d.prevX-d.curX,t=d.prevY-d.curY,r=Math.atan2(t,e),o=Math.round(180*r/Math.PI),o<0&&(o=360-Math.abs(o));return o>=0&&o<=60||o<=360&&o>=300?"left":o>=120&&o<=240?"right":o>=241&&o<=299?"bottom":"up"}();d.prevY=d.curY;const t=Math.round(Math.abs(d.curX-d.prevX))+v;if(t<=n)return;if("left"!==e&&"right"!==e)return;d.prevX=d.curX;const r=t/u,o=Math.floor(r*f.frames);v=t-n*o,g(w(o,"left"!==e))}();break;case"mouseup":case"touchend":case"touchcancel":"touchend"!==t.type&&"touchcancel"!==t.type||t.preventDefault(),document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",E),d={},m=!1,e.style.cursor="grab",document.body.style.cursor="default"}}var O;return h.play=function(){p||(p=!0,o=performance.now(),requestAnimationFrame(j))},h.stop=function(){p=!1},h.next=function(){h.stop(),g(l+1)},h.prev=function(){h.stop(),g(l-1)},h.reset=function(){h.stop(),g(1)},h.setFrame=function(e){h.stop(),g(e)},h.setReverse=function(e=!0){f.reverse=!!e},h.getCurrentFrame=()=>l,h.isAnimating=()=>p,h.setOption=function(e,t){"frameTime"!==e&&"duration"!==e&&"fps"!==e||(f.frameTime=f.duration=f.fps=!1,f[e]=+t,r=M(f.frameTime,f.duration,f.fps),p&&(h.stop(),h.play()))},h.destroy=function(){var t;!function(e,t,r){r.forEach(r=>{e.removeEventListener(r,t)})}(e,E,b),t=x,window.removeEventListener("resize",t)},r=M(f.frameTime,f.duration,f.fps),o=performance.now(),x(),O=x,window.addEventListener("resize",O),f.autoplay&&h.play(),f.draggable&&(function(e,t,r){r.forEach(r=>{e.addEventListener(r,t)})}(e,E,b),e.style.cursor="grab"),h}}])}));